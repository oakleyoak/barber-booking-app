<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmailJS Test - Edge & Co</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, textarea { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .status { margin-top: 20px; padding: 10px; border-radius: 4px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
    </style>
</head>
<body>
    <h1>üìß Email Test for Edge & Co Barbershop</h1>
    <p>This page will help us test email notifications for your booking app.</p>
    
    <form id="emailForm">
        <div class="form-group">
            <label for="to_email">To Email:</label>
            <input type="email" id="to_email" name="to_email" value="your-email@example.com" required>
        </div>
        
        <div class="form-group">
            <label for="customer_name">Customer Name:</label>
            <input type="text" id="customer_name" name="customer_name" value="John Doe" required>
        </div>
        
        <div class="form-group">
            <label for="service">Service:</label>
            <input type="text" id="service" name="service" value="Haircut & Beard Trim" required>
        </div>
        
        <div class="form-group">
            <label for="date">Appointment Date:</label>
            <input type="datetime-local" id="date" name="date" required>
        </div>
        
        <div class="form-group">
            <label for="message_type">Message Type:</label>
            <select id="message_type" name="message_type">
                <option value="booking_confirmation">Booking Confirmation</option>
                <option value="reminder">Appointment Reminder</option>
                <option value="cancellation">Cancellation Notice</option>
            </select>
        </div>
        
        <button type="submit">Send Test Email</button>
    </form>
    
    <div id="status"></div>
    
    <hr style="margin: 40px 0;">
    
    <h2>üìã Setup Instructions</h2>
    <ol>
        <li><strong>Go to <a href="https://emailjs.com" target="_blank">EmailJS.com</a></strong></li>
        <li><strong>Create a free account</strong></li>
        <li><strong>Add Gmail service:</strong>
            <ul>
                <li>Go to Email Services ‚Üí Add New Service</li>
                <li>Choose Gmail</li>
                <li>Use: <code>edgeandcobarber@gmail.com</code></li>
                <li>Use app password: <code>hapw tpmv kqku niqr</code></li>
            </ul>
        </li>
        <li><strong>Create an email template:</strong>
            <ul>
                <li>Go to Email Templates ‚Üí Create New Template</li>
                <li>Template ID: <code>template_booking</code></li>
                <li>Subject: <code>{{message_type}} - Edge & Co Barbershop</code></li>
                <li>Content: Use the template below</li>
            </ul>
        </li>
        <li><strong>Get your User ID from the dashboard</strong></li>
        <li><strong>Update the JavaScript below with your IDs</strong></li>
    </ol>
    
    <h3>üìù Email Template for EmailJS:</h3>
    <pre style="background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto;">
Hello {{customer_name}},

This is your {{message_type}} from Edge & Co Barbershop.

üìÖ Appointment Details:
‚Ä¢ Service: {{service}}
‚Ä¢ Date & Time: {{date}}
‚Ä¢ Customer: {{customer_name}}

üìç Location:
Edge & Co Barbershop
[Your Address Here]

üìû Contact:
Phone: [Your Phone]
Email: edgeandcobarber@gmail.com

Thank you for choosing Edge & Co Barbershop!

Best regards,
The Edge & Co Team
    </pre>

    <script>
        // Initialize EmailJS
        (function() {
            emailjs.init("YOUR_USER_ID_HERE"); // Replace with your EmailJS user ID
        })();

        // Set default date to tomorrow
        document.getElementById('date').value = new Date(Date.now() + 24*60*60*1000).toISOString().slice(0, 16);

        document.getElementById('emailForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = '<div class="status">üîÑ Sending email...</div>';
            
            // Get form data
            const formData = new FormData(event.target);
            const templateParams = {
                to_email: formData.get('to_email'),
                customer_name: formData.get('customer_name'),
                service: formData.get('service'),
                date: new Date(formData.get('date')).toLocaleString(),
                message_type: formData.get('message_type')
            };
            
            console.log('Sending email with params:', templateParams);
            
            // Send email using EmailJS
            emailjs.send('service_gmail', 'template_booking', templateParams)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    statusDiv.innerHTML = '<div class="status success">‚úÖ Email sent successfully!</div>';
                }, function(error) {
                    console.log('FAILED...', error);
                    statusDiv.innerHTML = '<div class="status error">‚ùå Failed to send email: ' + error.text + '</div>';
                });
        });
    </script>
</body>
</html>
